{
  "version": 4,
  "terraform_version": "1.3.5",
  "serial": 164,
  "lineage": "b511bc99-fd68-6130-0869-f84906b69968",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "azurerm_local_network_gateway",
      "name": "local-gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.3.0.0/16"
            ],
            "bgp_settings": [],
            "gateway_address": "51.145.171.107",
            "gateway_fqdn": "",
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/localNetworkGateways/local-gateway",
            "location": "westeurope",
            "name": "local-gateway",
            "resource_group_name": "perso_Matomi",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_postgresql_flexible_server",
      "name": "server",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "administrator_login": "eml",
            "administrator_password": "Simplon12345.",
            "authentication": [
              {
                "active_directory_auth_enabled": false,
                "password_auth_enabled": true,
                "tenant_id": ""
              }
            ],
            "backup_retention_days": 7,
            "create_mode": null,
            "customer_managed_key": [],
            "delegated_subnet_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql/subnets/emlsubnet",
            "fqdn": "emlserverproject.postgres.database.azure.com",
            "geo_redundant_backup_enabled": false,
            "high_availability": [],
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.DBforPostgreSQL/flexibleServers/emlserverproject",
            "identity": [],
            "location": "westeurope",
            "maintenance_window": [],
            "name": "emlserverproject",
            "point_in_time_restore_time_in_utc": null,
            "private_dns_zone_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/privateDnsZones/emlpostgresqldns.postgres.database.azure.com",
            "public_network_access_enabled": false,
            "replication_role": "",
            "resource_group_name": "perso_Matomi",
            "sku_name": "GP_Standard_D2s_v3",
            "source_server_id": null,
            "storage_mb": 32768,
            "tags": {},
            "timeouts": null,
            "version": "14",
            "zone": "2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.private-dns",
            "azurerm_private_dns_zone_virtual_network_link.privatedns-link",
            "azurerm_resource_group.rg",
            "azurerm_subnet.subnet-postgresql",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_postgresql_flexible_server_database",
      "name": "db",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "charset": "UTF8",
            "collation": "en_US.UTF8",
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.DBforPostgreSQL/flexibleServers/emlserverproject/databases/postgresql-db",
            "name": "postgresql-db",
            "server_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.DBforPostgreSQL/flexibleServers/emlserverproject",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_postgresql_flexible_server.server",
            "azurerm_private_dns_zone.private-dns",
            "azurerm_private_dns_zone_virtual_network_link.privatedns-link",
            "azurerm_resource_group.rg",
            "azurerm_subnet.subnet-postgresql",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone",
      "name": "private-dns",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/privateDnsZones/emlpostgresqldns.postgres.database.azure.com",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "emlpostgresqldns.postgres.database.azure.com",
            "number_of_record_sets": 2,
            "resource_group_name": "perso_Matomi",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "emlpostgresqldns.postgres.database.azure.com.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone_virtual_network_link",
      "name": "privatedns-link",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/privateDnsZones/emlpostgresqldns.postgres.database.azure.com/virtualNetworkLinks/postgresqlprivatednslink",
            "name": "postgresqlprivatednslink",
            "private_dns_zone_name": "emlpostgresqldns.postgres.database.azure.com",
            "registration_enabled": true,
            "resource_group_name": "perso_Matomi",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.private-dns",
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "ip-vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Dynamic",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/publicIPAddresses/my-public-ip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "51.145.249.31",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "westeurope",
            "name": "my-public-ip",
            "public_ip_prefix_id": null,
            "resource_group_name": "perso_Matomi",
            "reverse_fqdn": null,
            "sku": "Basic",
            "sku_tier": "Regional",
            "tags": {},
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi",
            "location": "westeurope",
            "name": "perso_Matomi",
            "tags": {},
            "timeouts": {
              "create": null,
              "delete": null,
              "read": null,
              "update": null
            }
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIwIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "gatewaysubnet-vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "170.0.3.0/24"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql/subnets/GatewaySubnet",
            "name": "GatewaySubnet",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "perso_Matomi",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "emlvnet-postgresql"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "subnet-postgresql",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "170.0.2.0/24"
            ],
            "delegation": [
              {
                "name": "fs",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/join/action"
                    ],
                    "name": "Microsoft.DBforPostgreSQL/flexibleServers"
                  }
                ]
              }
            ],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql/subnets/emlsubnet",
            "name": "emlsubnet",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "perso_Matomi",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [
              "Microsoft.Storage"
            ],
            "timeouts": null,
            "virtual_network_name": "emlvnet-postgresql"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "170.0.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "flow_timeout_in_minutes": 0,
            "guid": "c09993c5-3f21-455b-8937-89ccf6503e0d",
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql",
            "location": "westeurope",
            "name": "emlvnet-postgresql",
            "resource_group_name": "perso_Matomi",
            "subnet": [
              {
                "address_prefix": "170.0.2.0/24",
                "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql/subnets/emlsubnet",
                "name": "emlsubnet",
                "security_group": ""
              },
              {
                "address_prefix": "170.0.3.0/24",
                "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql/subnets/GatewaySubnet",
                "name": "GatewaySubnet",
                "security_group": ""
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_gateway",
      "name": "net-gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "active_active": false,
            "bgp_settings": [
              {
                "asn": 65515,
                "peer_weight": 0,
                "peering_addresses": [
                  {
                    "apipa_addresses": [],
                    "default_addresses": [
                      "170.0.3.254"
                    ],
                    "ip_configuration_name": "gateway-ip-config",
                    "tunnel_ip_addresses": [
                      "51.145.249.31"
                    ]
                  }
                ]
              }
            ],
            "custom_route": [],
            "default_local_network_gateway_id": null,
            "edge_zone": "",
            "enable_bgp": false,
            "generation": "Generation1",
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworkGateways/vpn-gateway",
            "ip_configuration": [
              {
                "name": "gateway-ip-config",
                "private_ip_address_allocation": "Dynamic",
                "public_ip_address_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/publicIPAddresses/my-public-ip",
                "subnet_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworks/emlvnet-postgresql/subnets/GatewaySubnet"
              }
            ],
            "location": "westeurope",
            "name": "vpn-gateway",
            "private_ip_address_enabled": false,
            "resource_group_name": "perso_Matomi",
            "sku": "VpnGw1",
            "tags": {},
            "timeouts": null,
            "type": "Vpn",
            "vpn_client_configuration": [],
            "vpn_type": "RouteBased"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.ip-vnet",
            "azurerm_resource_group.rg",
            "azurerm_subnet.gatewaysubnet-vnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_gateway_connection",
      "name": "connection",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_key": "",
            "connection_mode": "Default",
            "connection_protocol": "IKEv2",
            "custom_bgp_addresses": [],
            "dpd_timeout_seconds": 0,
            "egress_nat_rule_ids": [],
            "enable_bgp": false,
            "express_route_circuit_id": null,
            "express_route_gateway_bypass": false,
            "id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/connections/global-vpn-connection",
            "ingress_nat_rule_ids": [],
            "ipsec_policy": [],
            "local_azure_ip_address_enabled": false,
            "local_network_gateway_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/localNetworkGateways/local-gateway",
            "location": "westeurope",
            "name": "global-vpn-connection",
            "peer_virtual_network_gateway_id": null,
            "resource_group_name": "perso_Matomi",
            "routing_weight": 0,
            "shared_key": "Simplon12345.",
            "tags": {},
            "timeouts": null,
            "traffic_selector_policy": [],
            "type": "IPsec",
            "use_policy_based_traffic_selectors": false,
            "virtual_network_gateway_id": "/subscriptions/682603a3-d9f3-417f-98e8-a7b2398bc448/resourceGroups/perso_Matomi/providers/Microsoft.Network/virtualNetworkGateways/vpn-gateway"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_local_network_gateway.local-gateway",
            "azurerm_public_ip.ip-vnet",
            "azurerm_resource_group.rg",
            "azurerm_subnet.gatewaysubnet-vnet",
            "azurerm_virtual_network.vnet",
            "azurerm_virtual_network_gateway.net-gateway"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
